import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { withKnobs } from "@storybook/addon-knobs";
import { ViewPort, LeftResizable, Fill } from "../../";
import { action } from '@storybook/addon-actions';
import { green, red, description } from "../Utils";
import { CommonHeader } from "../Utils";

<CommonHeader />

<Meta title="Basic examples|Resize events" />

## Resizable space with state controlled size

Example of resizable space with state controlled size. By default the size of a resizable
space is uncontrolled. Therefore the initial size passed is is only the initial size of
a space. To keep the size of a space controlled with state you need to use the
onResizeEnd event.

<Preview>
	<Story name="Controlled size">
		{
			() => {
				const [ size, setSize ] = React.useState("15%");
				return (
					<ViewPort>
						<LeftResizable size={size} style={red} trackSize={true} onResizeEnd={(newSize) => setSize(newSize)}>
							{description("Left")}
						</LeftResizable>
						<Fill style={green} trackSize={true}>{description("Fill")}</Fill>
					</ViewPort>
				)
			}
		}
	</Story>
</Preview>

## Cancelling resize with onResizeStart

You can cancel a resize by returning `false` from a onResizeStart event handler.

<Preview>
	<Story name="Cancelled resize">
		{
			() => {
				return (
					<ViewPort>
						<LeftResizable size="15%" style={red} trackSize={true} onResizeStart={() => false}>
							{description("Left")}
						</LeftResizable>
						<Fill style={green} trackSize={true}>{description("Fill")}</Fill>
					</ViewPort>
				)
			}
		}
	</Story>
</Preview>